# This file was generated by GitHub Actions. DO NOT EDIT.
cask "grpctestify" do
  name "grpctestify"
  desc "gRPC testing utility written in Rust"
  homepage "https://github.com/gripmock/grpctestify-rust"
  version "1.4.0"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "grpctestify"

  on_macos do
    on_intel do
      url "https://github.com/gripmock/grpctestify-rust/releases/download/v#{version}/grpctestify-macos-amd64.tar.gz",
        verified: "github.com/gripmock/grpctestify-rust"
      sha256 "60ecba506e5d10fc3b562cc69fbd93abf91f221cf51f04dd3c62108a5e1a3014"
    end

    on_arm do
      url "https://github.com/gripmock/grpctestify-rust/releases/download/v#{version}/grpctestify-macos-arm64.tar.gz",
        verified: "github.com/gripmock/grpctestify-rust"
      sha256 "be70c5338e12e9f5c12a907fb91ec3e778dffdb46c1b8da943d70de3627df972"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/gripmock/grpctestify-rust/releases/download/v#{version}/grpctestify-linux-amd64.tar.gz",
        verified: "github.com/gripmock/grpctestify-rust"
      sha256 "c1418e4e8e7332d196e75fc20af8e231e5d5fa708c85f05ffd1490fb0f753328"
    end

    on_arm do
      url "https://github.com/gripmock/grpctestify-rust/releases/download/v#{version}/grpctestify-linux-arm64.tar.gz",
        verified: "github.com/gripmock/grpctestify-rust"
      sha256 "1617cad3a6a06dba93c968e813971ea85974ca6d89c5d811c2a1a283f5378104"
    end
  end

  postflight do
    if OS.mac?
      system_command "/usr/bin/xattr", args: ["-dr", "com.apple.quarantine", "#{staged_path}/grpctestify"]
    end
  end

  # No zap stanza required
end
