# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Outway < Formula
  desc "DNS proxy that marks destination IPs and routes by interface"
  homepage "https://github.com/bavix/outway"
  version "1.4.0"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/bavix/outway/releases/download/v1.4.0/outway_1.4.0_darwin_amd64.tar.gz"
      sha256 "2391fac996240a02f43fb270b979726484002cf5662ec922cb49dd09357d1eb7"

      def install
        bin.install "outway"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/bavix/outway/releases/download/v1.4.0/outway_1.4.0_darwin_arm64.tar.gz"
      sha256 "13445caac5d3ce80a428a9adc4f2d6277b649149f9a011654b13682e63f51149"

      def install
        bin.install "outway"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/bavix/outway/releases/download/v1.4.0/outway_1.4.0_linux_amd64.tar.gz"
      sha256 "f52d3bb76ae4b9b6e44c9377c3243427f9c75a6f3c8a860ca2ada1d5f70c9dce"
      def install
        bin.install "outway"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/bavix/outway/releases/download/v1.4.0/outway_1.4.0_linux_arm6.tar.gz"
      sha256 "08f08bae3997a72342812ee8b9e11bef16fe676e3251dbaa7916451e507d0ad4"
      def install
        bin.install "outway"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/bavix/outway/releases/download/v1.4.0/outway_1.4.0_linux_arm64.tar.gz"
      sha256 "d71cf199672c34e8d0e280d5936c9fbc999e1f59d15f130a1c49bc7ce8d3cb52"
      def install
        bin.install "outway"
      end
    end
  end

  test do
    assert_match "v#{version}", shell_output("#{bin}/outway version")
  end
end
