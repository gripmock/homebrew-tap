# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Outway < Formula
  desc "DNS proxy that marks destination IPs and routes by interface"
  homepage "https://github.com/bavix/outway"
  version "1.1.0"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/bavix/outway/releases/download/v1.1.0/outway_1.1.0_darwin_amd64.tar.gz"
      sha256 "e05d124a2a54c86171dc48e49db0054de12a9a990a25ed4f6ba48ac82b8fa856"

      def install
        bin.install "outway"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/bavix/outway/releases/download/v1.1.0/outway_1.1.0_darwin_arm64.tar.gz"
      sha256 "f81e09791ca54dc052873b24da1adfff2a92c63ba31363c118b1df4ca2e67283"

      def install
        bin.install "outway"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/bavix/outway/releases/download/v1.1.0/outway_1.1.0_linux_amd64.tar.gz"
      sha256 "55c0f24ea8483d86835e6484af57fcf5cc3d406bab1de87dcfbbcb6cbc6fa129"
      def install
        bin.install "outway"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/bavix/outway/releases/download/v1.1.0/outway_1.1.0_linux_arm6.tar.gz"
      sha256 "caf25ce8ce2c56177614d0b7d23d278679a552504ec8f9555c43abe75d8ca1e6"
      def install
        bin.install "outway"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/bavix/outway/releases/download/v1.1.0/outway_1.1.0_linux_arm64.tar.gz"
      sha256 "6fb682d9fe01ffa0894944a6c4394fb08969378df9ac1913c992ab8953fc2f69"
      def install
        bin.install "outway"
      end
    end
  end

  test do
    assert_match "v#{version}", shell_output("#{bin}/outway version")
  end
end
