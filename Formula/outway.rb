# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Outway < Formula
  desc "DNS proxy that marks destination IPs and routes by interface"
  homepage "https://github.com/bavix/outway"
  version "1.4.4"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/bavix/outway/releases/download/v1.4.4/outway_1.4.4_darwin_amd64.tar.gz"
      sha256 "5e3b58e6174ecbf0fc10be67406c24b9748560471eb29e22e3181282df6c6d20"

      def install
        bin.install "outway"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/bavix/outway/releases/download/v1.4.4/outway_1.4.4_darwin_arm64.tar.gz"
      sha256 "28fc6b5be5fcb0d48aaa1c5b0a0c5e3ada3a4cf3b637a2a61c40e7e25906c2cd"

      def install
        bin.install "outway"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/bavix/outway/releases/download/v1.4.4/outway_1.4.4_linux_amd64.tar.gz"
      sha256 "bea3346c899c2d9b1c83bdccf6f3b198fb3ef0ae53c6b7c2aaf9bc0fec8929ad"
      def install
        bin.install "outway"
      end
    end
    if Hardware::CPU.arm? && !Hardware::CPU.is_64_bit?
      url "https://github.com/bavix/outway/releases/download/v1.4.4/outway_1.4.4_linux_arm6.tar.gz"
      sha256 "db792a869d7dba4d1c96a541f1fcab3f6ca9c36ef070bdd3a0283c8a0e185959"
      def install
        bin.install "outway"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/bavix/outway/releases/download/v1.4.4/outway_1.4.4_linux_arm64.tar.gz"
      sha256 "fb28869168ddd14ef62ba20fcdb363d4bba6e3fe1ba830057e4f8b66236ae649"
      def install
        bin.install "outway"
      end
    end
  end

  test do
    assert_match "v#{version}", shell_output("#{bin}/outway version")
  end
end
