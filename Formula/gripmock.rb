# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Gripmock < Formula
  desc "A mock server for gRPC services using .proto files or compiled .pb descriptors"
  homepage "https://bavix.github.io/gripmock/"
  version "3.4.0"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/bavix/gripmock/releases/download/v3.4.0/gripmock_3.4.0_darwin_amd64.tar.gz"
      sha256 "294c80f24cc6b5117f2c89ef69cc312bc2f229272fdfca8d6a79c74ac6eb452a"

      def install
        bin.install "gripmock"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/bavix/gripmock/releases/download/v3.4.0/gripmock_3.4.0_darwin_arm64.tar.gz"
      sha256 "14cc3fae44500701938244a4698eb6f83d3dd775e5695abbf52a68fbc76a59fa"

      def install
        bin.install "gripmock"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? and Hardware::CPU.is_64_bit?
      url "https://github.com/bavix/gripmock/releases/download/v3.4.0/gripmock_3.4.0_linux_amd64.tar.gz"
      sha256 "698a3c65070fcf54ba891829e84f93213d77a2578b55dfa411cfeaf6ec02b5ff"
      def install
        bin.install "gripmock"
      end
    end
    if Hardware::CPU.arm? and Hardware::CPU.is_64_bit?
      url "https://github.com/bavix/gripmock/releases/download/v3.4.0/gripmock_3.4.0_linux_arm64.tar.gz"
      sha256 "04d799592eb9c65696302f77984682b04c2bbee098c4e7bce32d908deae00070"
      def install
        bin.install "gripmock"
      end
    end
  end

  test do
    assert_match "v#{version}", shell_output("#{bin}/gripmock --version")
  end
end
