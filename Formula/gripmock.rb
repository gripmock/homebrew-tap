# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Gripmock < Formula
  desc "A mock server for gRPC services using .proto files or compiled .pb descriptors"
  homepage "https://bavix.github.io/gripmock/"
  version "3.5.6"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/bavix/gripmock/releases/download/v3.5.6/gripmock_3.5.6_darwin_amd64.tar.gz"
      sha256 "75db9ee9d1cb0aa84f4c93e3452921920017856ce005e71ddccc6affbc7772bb"

      def install
        bin.install "gripmock"
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/bavix/gripmock/releases/download/v3.5.6/gripmock_3.5.6_darwin_arm64.tar.gz"
      sha256 "51350d277eb9f8592a7fa3cb3f4d5c8579161345d93c2cb71b2780005a174508"

      def install
        bin.install "gripmock"
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel? && Hardware::CPU.is_64_bit?
      url "https://github.com/bavix/gripmock/releases/download/v3.5.6/gripmock_3.5.6_linux_amd64.tar.gz"
      sha256 "c46eb92139310819a7ddf1a3af0c711a8a45ccb1a53d68a1b988236b8ba5f3ea"
      def install
        bin.install "gripmock"
      end
    end
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/bavix/gripmock/releases/download/v3.5.6/gripmock_3.5.6_linux_arm64.tar.gz"
      sha256 "889e56234735967e3080f57256824a6cb438fa31167e7d903e4de3445ce44390"
      def install
        bin.install "gripmock"
      end
    end
  end

  test do
    assert_match "v#{version}", shell_output("#{bin}/gripmock --version")
  end
end
